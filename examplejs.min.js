!function(n){function e(n,e){return n.replace(/#\{(.*?)\}/g,function(n,t){return e&&t in e?e[t]:""})}function t(n,t){if(!n)return n;t=t||{};var i,s="";if(String(n).replace(/\s*\*?\s*@example\s*(.*)\n\s*((```(?:javascript|js|html|css)\s*\n([^]*?)\s*```[\s]*)+)/gi,function(n,t,o){var r={js:[],css:[],html:[]};t=t||"none",o.replace(/```(javascript|js|html|css)\s*\n([^]*?)\s*```/g,function(n,e,t){e=e.toLowerCase(),"javascript"===e&&(e="js"),t.trim()&&r[e].push(t)}),r.css.length>0&&r.html.unshift("<style>"+r.css.join("\n")+"</style>"),r.html.length>0&&(i=!0,s+=e("\n  it(#{it}, function (done) {\n    jsdom.env(#{html}, function (err, window) {\n      global.window = window;\n      ['atob', 'btoa', 'document', 'navigator', 'location', 'screen', 'alert', 'prompt'].forEach(\n        function (key) {\n          global[key] = window[key];\n        }\n      );\n      assert.equal(err, null);\n      done();\n    });\n  });\n          ",{html:JSON.stringify(r.html.join("\n")),it:JSON.stringify("jsdom@"+t)}));var a=r.js.join("\n"),l=a.indexOf("// * done")>=0,u=a.indexOf("// * throw")>=0;if(a=a.replace(/^(\s*\/\/ > .*\n??)+/gm,function(n){var e=n.match(/^(\s*)\/\/ > /)[1],t=n.replace(/^\s*\/\/ > /gm,"");return e+'assert.equal(examplejs_printLines.join("\\n"), '+JSON.stringify(t)+"); examplejs_printLines = [];"}).replace(/console\.log/g,"examplejs_print"),l&&(a=a.replace("// * done","done();")),u){var c=a.match(/^(\s*)/)[1];a="\n"+c+"(function() {\n"+a+"\n"+c+"}).should.throw();"}s+=e("\n  it(#{it}, function (#{done}) {\n    examplejs_printLines = [];\n#{code}\n  });\n          ",{code:a,done:l?"done":"",it:JSON.stringify(t)})}),!s)return"";var o=[];return t.header&&o.push(t.header),o.push(e("\ndescribe(#{desc}, function () {\n  var assert = require('should');\n  var util = require('util');\n  var examplejs_printLines;\n  function examplejs_print() {\n    examplejs_printLines.push(util.format.apply(util, arguments));\n  }\n  #{jsdom}\n  #{timeout}\n#{exampleCode}\n});\n         ",{desc:JSON.stringify(t.desc||"none"),jsdom:i?"var jsdom = require('jsdom');":"",timeout:t.timeout?"this.timeout("+t.timeout+");":"",exampleCode:s})),o.join("\n")}var i=i||{};i.build=t,"function"==typeof define?define.amd&&define(function(){return i}):"undefined"!=typeof module&&module.exports?module.exports=i:window[n]=i}("examplejs");