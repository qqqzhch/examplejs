!function(e){function n(e,n){if(!e)return e;n=n||{};var t="";if(String(e).replace(/\s*\*?\s*@example\s*(.*)\n\s*```(?:javascript|js)\s*\n([^]*?)\s*```/gi,function(e,n,i){var s=i.indexOf("// * done")>=0,r=i.indexOf("// * throw")>=0;if(n=n||"none",t+="\n  it("+JSON.stringify(n)+", function("+(s?"done":"")+") {",t+="\n    jtests_printLines = [];\n",i=i.replace(/^(\s*\/\/ > .*\n??)+/gm,function(e){var n=e.match(/^(\s*)\/\/ > /)[1],t=e.replace(/^\s*\/\/ > /gm,"");return n+'assert.equal(jtests_printLines.join("\\n"), '+JSON.stringify(t)+"); jtests_printLines = [];"}).replace(/console\.log/g,"jtests_print"),s&&(i=i.replace("// * done","done();")),r){var u=i.match(/^(\s*)/)[1];i="\n"+u+"(function() {\n"+i+"\n"+u+"}).should.throw();"}t+=i,t+="\n  });"}),!t)return"";var i=[];return n.header&&i.push(n.header),i.push('describe("'+(n.desc||"none")+'", function () {',"  var assert = require('should');","  var util = require('util');","  var jtests_printLines;","  function jtests_print() {","    jtests_printLines.push(util.format.apply(util, arguments));","  }"),n.timeout&&i.push("  this.timeout("+n.timeout+");"),i.push(t),i.push("});"),i.join("\n")}var t=t||{};t.build=n,"function"==typeof define?define.amd&&define(function(){return t}):"undefined"!=typeof module&&module.exports?module.exports=t:window[e]=t}("jtests");